<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core">

    <f:view>
        <h:form id="form_photo_upload">
            <p:dialog widgetVar="dlg_photo_upload" modal="true" header="Update de Imagem" rendered="#{photoUpload.renderedPhotoUploadView}">
                <p:ajax event="close" listener="#{photoUpload.close()}" />
                
                <h:panelGrid>
                    <p:fileUpload label="Upload de Fotos"
                                  cancelLabel="Cancelar"
                                  uploadLabel="Enviar"
                                  mode="advanced"
                                  fileUploadListener="#{photoUpload.upload}"
                                  oncomplete="PF('dlg_upload').hide()" 
                                  update="#{photoUpload.updateView}"
                                  />
                </h:panelGrid>
            </p:dialog>      
        </h:form>
    </f:view>
</ui:composition>